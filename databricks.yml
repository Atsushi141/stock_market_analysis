# This is a Databricks asset bundle definition for databricks_cicd_course.
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation.
bundle:
  name: stock_market_anaysis
  uuid: afb134be-b1db-4e23-a252-5b71d0baea58

include:
  - resources/*.yml
  - resources/*/*.yml

variables:
  catalog:
    description: The catalog to use

run_as:
  service_principal_name: '0471c37b-ad1b-4819-a518-0b91782c7816'


# artifacts:
#   default:
#     type: whl
#     build: python setup.py bdist_wheel
#     path: .

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://adb-7405619220999557.17.azuredatabricks.net
      root_path:  /Workspace/Users/0471c37b-ad1b-4819-a518-0b91782c7816/.bundle/stock_market_anaysis/dev/files/
    variables:
      catalog: yfinance-dev
          

  prod:
    mode: production
    workspace:
      host: https://adb-7405618670511055.15.azuredatabricks.net
      root_path: /Workspace/Shared/.bundle/${bundle.name}/${bundle.target}
    variables:
      catalog: yfinance-prod
    permissions:
      - user_name: databricks-admin@temp389.onmicrosoft.com
        level: CAN_MANAGE
    