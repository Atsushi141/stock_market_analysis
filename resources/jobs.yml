resources:
  jobs:
    stock_master_etl_job:
      name: stock_master_job
      tasks:
        - task_key: stock_master_bronze
          notebook_task:
            notebook_path: /Workspace/Users/0471c37b-ad1b-4819-a518-0b91782c7816/.bundle/stock_market_anaysis/dev/files/notebooks/stock_master_bronze
            source: WORKSPACE
          environment_key: Default
        - task_key: stock_master_silver
          depends_on:
            - task_key: stock_master_bronze
          notebook_task:
            notebook_path: /Workspace/Users/0471c37b-ad1b-4819-a518-0b91782c7816/.bundle/stock_market_anaysis/dev/files/notebooks/stock_master_silver
            source: WORKSPACE
          environment_key: Default
      queue:
        enabled: true
      parameters:
        - name: file_path
          default: "/Volumes/yfinance-dev/raw/stock_master/data_j.csv"
      run_as:
        service_principal_name: 0471c37b-ad1b-4819-a518-0b91782c7816
      environments:
        - environment_key: Default
          spec:
            environment_version: "4"
      performance_target: PERFORMANCE_OPTIMIZED
    stock_price_ingestion:
      name: stock_price_ingestion
      schedule:
        quartz_cron_expression: 0 0 9 ? * MON-FRI
        timezone_id: Asia/Tokyo
        pause_status: UNPAUSED
      tasks:
        - task_key: stock_price_ingestion
          notebook_task:
            notebook_path: /Workspace/Users/0471c37b-ad1b-4819-a518-0b91782c7816/.bundle/stock_market_anaysis/dev/files/notebooks/stock_price_ingestion
            source: WORKSPACE
          environment_key: Default
      queue:
        enabled: true
      parameters:
        - name: proccessed_date
          default: "{{job.trigger.time.iso_date}}"
        - name: directory_path
          default: "/Volumes/yfinance-dev/raw/stock_price"
      run_as:
        service_principal_name: 0471c37b-ad1b-4819-a518-0b91782c7816
      environments:
        - environment_key: Default
          spec:
            environment_version: "4"
      performance_target: PERFORMANCE_OPTIMIZED
    stock_price_etl_job:
      name: stock_price_etl_job
      schedule:
        quartz_cron_expression: 0 0 9 ? * MON-FRI
        timezone_id: Asia/Tokyo
        pause_status: UNPAUSED
      tasks:
        - task_key: stock_price_bronze
          notebook_task:
            notebook_path: /Workspace/Users/0471c37b-ad1b-4819-a518-0b91782c7816/.bundle/stock_market_anaysis/dev/files/notebooks/stock_price_bronze
            source: WORKSPACE
          environment_key: Default
        - task_key: stock_price_silver
          depends_on:
            - task_key: stock_price_bronze
          notebook_task:
            notebook_path: /Workspace/Users/0471c37b-ad1b-4819-a518-0b91782c7816/.bundle/stock_market_anaysis/dev/files/notebooks/stock_price_silver
            source: WORKSPACE
          environment_key: Default
      queue:
        enabled: true
      parameters:
        - name: stock_price_date
          default: "{{job.trigger.time.iso_date}}"
        - name: directory_path
          default: "/Volumes/yfinance-dev/raw/stock_price"
      run_as:
        service_principal_name: 0471c37b-ad1b-4819-a518-0b91782c7816
      environments:
        - environment_key: Default
          spec:
            environment_version: "4"
      performance_target: PERFORMANCE_OPTIMIZED
